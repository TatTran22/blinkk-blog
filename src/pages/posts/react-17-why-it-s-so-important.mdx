---
slug: react-17-why-it-s-so-important
title: React 17 - Táº¡i sao nÃ³ láº¡i quan trá»ng ?
date: 2020-09-12
author: tattran22
tags:
  - react
  - web development
---

React 17 Ä‘Ã£ ra máº¯t sau 2.5 nÄƒm ká»ƒ tá»« báº£n React 16 Ä‘áº§u tiÃªn, phiÃªn báº£n 16.x cÃ³ ráº¥t nhiá»u sá»± thay Ä‘á»•i nhÆ° Hooks, Context, ... nhÆ°ng khi tá»›i phiÃªn báº£n má»›i React 17 thÃ¬ chÃºng ta láº¡i chÆ°a cÃ³ báº¥t ká»³ tÃ­nh nÄƒng má»›i nÃ o nhÆ°ng Ä‘Ã³ láº¡i lÃ  nÆ°á»›c Ä‘i Ä‘Ãºng Ä‘áº¯n mÃ  facebook Ä‘Ã£ lÃ m, trÆ°á»›c khi bÃ n vá» chuyá»‡n Ä‘Ã³ chÃºng ta hÃ£y xem xÃ©t má»™t vÃ i thay Ä‘á»•i má»›i sau:

## Thay Ä‘á»•i sá»± uá»· quyá»n sá»± kiá»‡n (Event Delegation):

React tá»« giá» sáº½ khÃ´ng gÃ¡n báº¯t sá»± kiá»‡n (event handlers) vÃ o document. Thay vÃ o Ä‘Ã³, nÃ³ sáº½ gÃ¡n nÃ³ vÃ o _root DOM container_ nÆ¡i mÃ  _React tree_ cá»§a báº¡n Ä‘Æ°á»£c render ra.

```jsx
const rootNode = document.getElementById('root');
ReactDOM.render(<App />, rootNode);
```

Trong phiÃªn báº£n React 16 vÃ o trÆ°á»›c kia, React sáº½ `document.addEventListener()` cho gáº§n nhÆ° táº¥t cáº£ sá»± kiá»‡n. NhÆ°ng thay vÃ o Ä‘Ã³ Ract 17 sáº½ gá»i `rootNode.addEventListener()`.

![Sample Image](https://reactjs.org/static/bb4b10114882a50090b8ff61b3c4d0fd/1e088/react_17_delegation.png)

## Táº¡i sao nÃ³ láº¡i quan trá»ng ?

NÃ³ sáº½ giÃºp chÃºng ta sá»­ dá»¥ng React cÃ¹ng cÃ¡c JS frameworks khÃ¡c dá»… dÃ ng hÆ¡n.

Sáº½ an toÃ n hÆ¡n khi sá»­ dá»¥ng cÃ¢y React Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi má»™t phiÃªn báº£n bÃªn trong cÃ¢y Ä‘Æ°á»£c quáº£n lÃ½ bá»Ÿi má»™t phiÃªn báº£n React khÃ¡c. ğŸ¤¯ğŸ¤¯ğŸ¤¯

> **It is now safer to embed a React tree managed by one version inside a tree managed by a different React version.**
>
> <cite>React blog</cite>

## KhÃ´ng React import :

Náº¿u báº¡n Ä‘ang sá»­ dá»¥ng Create React App boiler plate(cra) hoáº·c npm Ä‘á»ƒ download react, báº¡n sáº½ pháº£i import React á»Ÿ má»i jsx hay js code. NhÆ°ng bÃ¢y giá» Ä‘iá»u Ä‘Ã³ khÃ´ng cÃ²n cáº§n thiáº¿t ná»¯a.

```jsx
import React from 'react';
```

## onScroll bong bÃ³ng sá»± kiá»‡n (Bubbling Event):

Trong phiÃªn báº£n trÆ°á»›c cá»§a React, cÃ³ má»™t lá»—i Ã­t Ä‘Æ°á»£c biáº¿t Ä‘áº¿n hÆ¡n, pháº§n tá»­ cha Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ náº¯m báº¯t sá»± kiá»‡n cuá»™n cá»§a pháº§n tá»­ con, Ä‘iá»u nÃ y Ä‘Ã£ gÃ¢y ra sá»± cá»‘ khi sá»­ dá»¥ng trÃ¬nh nghe sá»± kiá»‡n cuá»™n, Ä‘iá»u nÃ y Ä‘Ã£ Ä‘Æ°á»£c kháº¯c phá»¥c tá»« bÃ¢y giá».

## KhÃ´ng Event Pooling:

Äá»‘i vá»›i nhá»¯ng ngÆ°á»i khÃ´ng biáº¿t Event Pooling lÃ  gÃ¬: CÃ¡c trÃ¬nh xá»­ lÃ½ sá»± kiá»‡n mÃ  chÃºng ta cÃ³ trong báº¥t ká»³ á»©ng dá»¥ng pháº£n á»©ng nÃ o thá»±c sá»± lÃ  cÃ¡c báº£n sao cá»§a SyntheticEvent (Má»™t trÃ¬nh bao bá»c cho cÃ¡c sá»± kiá»‡n trÃ¬nh duyá»‡t gá»‘c Ä‘á»ƒ chÃºng cÃ³ cÃ¡c thuá»™c tÃ­nh nháº¥t quÃ¡n trÃªn cÃ¡c trÃ¬nh duyá»‡t khÃ¡c nhau).

Báº¥t cá»© khi nÃ o má»™t sá»± kiá»‡n Ä‘Æ°á»£c kÃ­ch hoáº¡t, nÃ³ sáº½ láº¥y má»™t instance tá»« nhÃ³m vÃ  Ä‘iá»n cÃ¡c thuá»™c tÃ­nh cá»§a nÃ³ vÃ  sá»­ dá»¥ng láº¡i nÃ³. Khi trÃ¬nh xá»­ lÃ½ sá»± kiá»‡n cháº¡y xong, táº¥t cáº£ cÃ¡c thuá»™c tÃ­nh sáº½ bá»‹ vÃ´ hiá»‡u hÃ³a vÃ  cÃ¡ thá»ƒ sá»± kiá»‡n tá»•ng há»£p Ä‘Æ°á»£c giáº£i phÃ³ng trá»Ÿ láº¡i nhÃ³m.

## Effect Cleanup Timing:

Hook useEffect trong React 16 cháº¡y khÃ´ng Ä‘á»“ng bá»™ nhÆ°ng quÃ¡ trÃ¬nh dá»n dáº¹p mÃ  chÃºng tÃ´i Ä‘Ã£ sá»­ dá»¥ng, nhÆ° cÃ¡ch nÃ y Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ cháº¡y Ä‘á»“ng bá»™, Ä‘iá»u nÃ y Ä‘Ã£ gÃ¢y ra sá»± cá»‘, VÃ­ dá»¥: Náº¿u báº¡n gá»i má»™t Api hoáº·c An Animation vÃ  trÆ°á»›c khi hÃ nh Ä‘á»™ng hoÃ n táº¥t náº¿u thÃ nh pháº§n khÃ´ng Ä‘Æ°á»£c gáº¯n káº¿t

Giá» Ä‘Ã¢y, nÃ³ khÃ´ng cÃ²n lÃ  váº¥n Ä‘á» ná»¯a vÃ¬ nÃ³ cháº¡y khÃ´ng Ä‘á»“ng bá»™ ngay cáº£ khi thÃ nh pháº§n khÃ´ng Ä‘Æ°á»£c gáº¯n káº¿t, quÃ¡ trÃ¬nh dá»n dáº¹p sáº½ diá»…n ra, dáº«n Ä‘áº¿n hiá»‡u suáº¥t tá»‘t hÆ¡n

```jsx
useEffect(() => {
  event.subscribe();
  return function cleanup() {
    event.unsubscribe();
  };
});
```

Báº¡n cÃ³ thá»ƒ nháº§m láº«n Ä‘Ã¢y khÃ´ng pháº£i lÃ  cÃ¡c tÃ­nh nÄƒng ?, ÄÃ¢y lÃ  nhiá»u thay Ä‘á»•i ná»™i bá»™ vÃ  cÃ¡c báº£n sá»­a lá»—i cáº§n biáº¿t, nhÆ°ng báº£n phÃ¡t hÃ nh nÃ y lÃ  má»™t bÆ°á»›c Ä‘i Ä‘Ãºng Ä‘áº¯n, bÃ¢y giá» lÃ  thá»i Ä‘iá»ƒm thÃ­ch há»£p Ä‘á»ƒ di chuyá»ƒn cÃ¡c dá»± Ã¡n React cÅ© cá»§a báº¡n tá»« class sang cÃ¡c function dá»±a trÃªn hook hoáº·c implement context, Ä‘iá»u nÃ y sáº½ cung cáº¥p Ä‘á»§ thá»i gian cho cáº£ business vÃ  developers Ä‘á»ƒ báº¯t ká»‹p tá»‘c Ä‘á»™ nhanh chÃ³ng mÃ  React Ä‘ang Ä‘i.
